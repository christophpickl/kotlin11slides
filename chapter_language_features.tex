
%\fullimageCapt{lighthouse}{A lighthouse on \href{https://en.wikipedia.org/wiki/Kotlin_Island}{Kotlin Island}, Russia}{}

\sektion{Language Features}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}\frametitle{What we'll cover}
  \begin{enumerate}[<+->]
  	\item \textbf{Coroutines} (experimental)
	\item Type \textbf{aliases}
	\item Bound callable \textbf{references}
	\item Improved \textbf{data} and \textbf{sealed} classes
	\item \textbf{Destructuring} in lambdas
	\item Local \textbf{delegated} properties
	\item \textbf{Underscore} for numeral literals / unused parameters % (lambdas, destructuring declarations)
	\item Type inference and inlining for \textbf{properties} % type inference for getter properties = shorter syntax :)
	\item Generic \textbf{enum} value access
	\item Restrict lambda scope with \texttt{@DslMarker}
  \end{enumerate}
\end{frame}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\fullimageCapt{callback_hell}{Source: \url{https://collinmakersquare.wordpress.com}}{10cm}

\begin{frame}[fragile] \frametitle{Coroutines are \ldots}
\begin{itemize}
	\item very lightweight threads (like \href{https://en.wikipedia.org/wiki/Fiber_(computer_science)}{fibers}).
	\item a very expressive tool for implementing asynchronous behavior. % make non-blocking asynchronous code as straightforward as plain synchronous code
	\item still marked as experimental.
	\item very low-level thing to build own framework above it
	% generators/yield from Python, channels/select from Go and async/await from C#
	% necessary? dependency  \texttt{kotlinx-coroutines-core}
\end{itemize}
Keywords: suspending
\end{frame}

\begin{frame}[fragile] \frametitle{Coroutines sample}
% necessary? dependency  \texttt{kotlinx-coroutines-core}
\begin{lstlisting}
some code
\end{lstlisting}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}[fragile] \frametitle{Type aliases}
\begin{lstlisting}
typealias StatusCode = Int|\pause|
fun request(expected: StatusCode) {}
request(200)|\pause|

typealias Listener = (Event) -> Unit|\pause|
fun subscribe(listener : Listener) {}
fun subscribe(listener : (Event) -> Unit) {}|\pause|

class Outer {
  typealias Nope = Double // compile error
}
\end{lstlisting}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}[fragile] \frametitle{Bound callable references}
Refs
\begin{lstlisting}
some code
\end{lstlisting}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}[fragile] \frametitle{Improved data and sealed classes}
XXX
\begin{lstlisting}
some code
\end{lstlisting}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}[fragile] \frametitle{Destructuring in lambdas}
XXX
\begin{lstlisting}
some code
\end{lstlisting}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}[fragile] \frametitle{Local delegated properties}
XXX
\begin{lstlisting}
some code
\end{lstlisting}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}[fragile] \frametitle{Underscores}
\textbf{Underscore} for unused parameters / numeral literals % (lambdas, destructuring declarations)
\begin{lstlisting}
val creditCardNumber = 1234_5678_9012_3456L
val hexBytes = 0xFF_EC_DE_5E
val hexWords = 0xCAFE_BABE
val maxval = 0x7fff_ffff_ffff_ffffL
val bytes = 0b0110_1001;
\end{lstlisting}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}[fragile] \frametitle{Enhanced Properties}
Type inference and inlining for \textbf{properties} % type inference for getter properties = shorter syntax :)
\begin{lstlisting}
some code
\end{lstlisting}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}[fragile] \frametitle{Generic enum value access}
XXX
\begin{lstlisting}
some code
\end{lstlisting}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}[fragile] \frametitle{DslMarker}
Restrict lambda scope with \texttt{@DslMarker}
\begin{lstlisting}
some code
\end{lstlisting}
\end{frame}

